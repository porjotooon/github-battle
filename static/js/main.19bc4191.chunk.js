(this["webpackJsonpgithub-battle"]=this["webpackJsonpgithub-battle"]||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},29:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),o=(a(29),a(4)),s=a(5),i=a(7),u=a(6),m=(a(30),a(8)),h=a(23),b="?client_id=".concat("1f41f8cac4df61a8ac5b","&client_secret=").concat("3661b3c1b7c0c5e0115370282e78f17162de3224");function f(e,t){return"Not Found"===e?"".concat(t," doesn't exist"):e}function p(e){return fetch("https://api.github.com/users/".concat(e,"/repos").concat(b,"&per_page=100")).then((function(e){return e.json()})).then((function(t){if(t.message)throw new Error(f(t.message,e));return t}))}function d(e,t){return 3*e+function(e){return e.reduce((function(e,t){return e+t.stargazers_count}),0)}(t)}function g(e){return Promise.all([(t=e,fetch("https://api.github.com/users/".concat(t).concat(b)).then((function(e){return e.json()})).then((function(e){if(e.message)throw new Error(f(e.message,t));return e}))),p(e)]).then((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return{profile:a,score:d(a.followers,n)}}));var t}var v=a(3),E=r.a.createContext(),y=E.Consumer,O=E.Provider,N=y,S=O;function j(e){var t=e.header,a=e.subheader,n=e.avatar,l=e.href,c=e.name,o=e.children;return r.a.createElement(N,null,(function(e){var s=e.theme;return r.a.createElement("div",{className:"card bg-".concat(s)},r.a.createElement("h4",{className:"header-lg center-text"},t),r.a.createElement("img",{className:"avatar",src:n,alt:"Avatar for ".concat(c)}),a&&r.a.createElement("h4",{className:"center-text"},a),r.a.createElement("h2",{className:"center-text"},r.a.createElement("a",{className:"link",href:l},c)),o)}))}var w={content:{fontSize:"35px",position:"absolute",left:"0",right:"0",marginTop:"20px",textAlign:"center"}},k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={content:e.text},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.speed,n=t.text;this.interval=window.setInterval((function(){e.state.content===n+"..."?e.setState({content:n}):e.setState((function(e){return{content:e.content+"."}}))}),a)}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("p",{style:w.content},this.state.content)}}]),a}(r.a.Component);k.defaultProps={text:"Loading",speed:300};var x=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={hovering:!1},n.mouseOver=n.mouseOver.bind(Object(m.a)(n)),n.mouseOut=n.mouseOut.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"mouseOver",value:function(){this.setState({hovering:!0})}},{key:"mouseOut",value:function(){this.setState({hovering:!1})}},{key:"render",value:function(){return r.a.createElement("div",{onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},this.props.children(this.state.hovering))}}]),a}(r.a.Component),L={container:{position:"relative",display:"flex"},tooltip:{boxSizing:"border-box",position:"absolute",width:"160px",bottom:"100%",left:"50%",marginLeft:"-80px",borderRadius:"3px",backgroundColor:"hsla(0, 0%, 20%, 0.9)",padding:"7px",marginBottom:"5px",color:"#fff",textAlign:"center",fontSize:"14px"}};function C(e){var t=e.text,a=e.children;return r.a.createElement(x,null,(function(e){return r.a.createElement("div",{style:L.container},!0===e&&r.a.createElement("div",{style:L.tooltip},t),a)}))}var z=function(e){var t=e.selected,a=e.onUpdateLanguage;return r.a.createElement("ul",{className:"flex-center"},["All","JavaScript","Ruby","Java","CSS","Python"].map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("button",{className:"btn-clear nav-link",style:e===t?{color:"rgb(187, 46, 31)"}:null,onClick:function(){return a(e)}},e))})))},R=function(e){var t=e.repos;return r.a.createElement("ul",{className:"grid space-around"},t.map((function(e,t){e.name;var a=e.owner,n=e.html_url,l=e.stargazers_count,c=e.forks,o=e.open_issues,s=a.login,i=a.avatar_url;return r.a.createElement("li",{key:n},r.a.createElement(j,{header:"#".concat(t+1),name:s,href:n,avatar:i},r.a.createElement("ul",{className:"card-list"},r.a.createElement("li",null,r.a.createElement(C,{text:"Github username"},r.a.createElement(v.i,{color:"rgb(255,191,116)",size:22}),r.a.createElement("a",{href:"https://github.com/".concat(s)},s))),r.a.createElement("li",null,r.a.createElement(v.f,{color:"gold",size:22}),l.toLocaleString()," stars"),r.a.createElement("li",null,r.a.createElement(v.b,{color:"rgb(129,195,245)",size:22}),c.toLocaleString()," forks"),r.a.createElement("li",null,r.a.createElement(v.d,{color:"rgb(241,138,147)",size:22}),o.toLocaleString()," open issues"))))})))},T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={selectedLanguage:"All",repos:null,error:null},n.updateLanguage=n.updateLanguage.bind(Object(m.a)(n)),n.isLoading=n.isLoading.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updateLanguage(this.state.selectedLanguage)}},{key:"updateLanguage",value:function(e){var t=this;this.setState({selectedLanguage:e,error:null,repos:null}),function(e){var t=window.encodeURI("https://api.github.com/search/repositories?q=stars:>1+language:".concat(e,"&sort=stars&order=desc&type=Repositories"));return fetch(t).then((function(e){return e.json()})).then((function(e){if(!e.items)throw new Error(e.message);return e.items}))}(e).then((function(e){return t.setState({repos:e,error:null})})).catch((function(){console.warn("Error in fetching repos: ",t.state.error),t.setState({error:"There was an error fetching the repositories"})}))}},{key:"isLoading",value:function(){return null===this.state.repos&&null===this.state.error}},{key:"render",value:function(){var e=this.state,t=e.selectedLanguage,a=e.repos,n=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{selected:t,onUpdateLanguage:this.updateLanguage}),this.isLoading()&&r.a.createElement(k,null),n&&r.a.createElement("p",{className:"center-text error"},n),a&&r.a.createElement(R,{repos:a}))}}]),a}(n.Component),_=a(16);function P(e){return r.a.createElement("ul",{className:"card-list"},r.a.createElement("li",null,r.a.createElement(v.i,{color:"rgb(239, 115, 115)",size:22}),e.name),e.location&&r.a.createElement("li",null,r.a.createElement(C,{text:"User's location"},r.a.createElement(v.c,{color:"rgb(144, 115, 255)",size:22}),e.location)),e.company&&r.a.createElement("li",null,r.a.createElement(C,{text:"User's company"},r.a.createElement(v.a,{color:"#795548",size:22}),e.company)),r.a.createElement("li",null,r.a.createElement(v.k,{color:"rgb(129, 195, 245)",size:22}),e.followers.toLocaleString()," followers"),r.a.createElement("li",null,r.a.createElement(v.j,{color:"rgb(64, 183, 95)",size:22}),e.following.toLocaleString()," following"))}var A=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={winner:null,loser:null,error:null,loading:!0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props,n=a.playerOne,r=a.playerTwo;(e=[n,r],Promise.all([g(e[0]),g(e[1])]).then((function(e){return function(e){return e.sort((function(e,t){return t.score-e.score}))}(e)}))).then((function(e){t.setState({winner:e[0],loser:e[1],error:null,loading:!1})})).catch((function(e){var a=e.message;t.setState({error:a,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.winner,a=e.loser,n=e.error;return!0===e.loading?r.a.createElement(k,null):n?r.a.createElement("p",{className:"center-text error"},n):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"grid space-around container-sm"},r.a.createElement(j,{header:t.score===a.score?"Tie":"Winner",subheader:t.score.toLocaleString(),name:t.profile.login,href:t.profile.html_url,avatar:t.profile.avatar_url},P(t.profile)),r.a.createElement(j,{header:t.score===a.score?"Tie":"Loser",subheader:a.score.toLocaleString(),name:a.profile.login,href:a.profile.html_url,avatar:a.profile.avatar_url},P(a.profile))),r.a.createElement("button",{className:"btn dark-btn btn-space",onClick:this.props.onReset},"Reset"))}}]),a}(r.a.Component);function M(){return r.a.createElement(N,null,(function(e){var t=e.theme;return r.a.createElement("div",{className:"instructions-container"},r.a.createElement("h1",{className:"center-text header-lg"},"Instructions"),r.a.createElement("ol",{className:"container-sm grid center-text battle-instructions"},r.a.createElement("li",null,r.a.createElement("h3",{className:"header-sm"},"Enter two Github users"),r.a.createElement(v.j,{className:"bg-".concat(t),color:"rgb(255, 191, 116)",size:140})),r.a.createElement("li",null,r.a.createElement("h3",{className:"header-sm"},"Battle"),r.a.createElement(v.e,{className:"bg-".concat(t),color:"#727272",size:140})),r.a.createElement("li",null,r.a.createElement("h3",{className:"header-sm"},"See the winners"),r.a.createElement(v.h,{className:"bg-".concat(t),color:"rgb(255, 215, 0)",size:140}))))}))}var U=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={username:""},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.username)}},{key:"handleChange",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement(N,null,(function(t){var a=t.theme;return r.a.createElement("form",{className:"column player",onSubmit:e.handleSubmit},r.a.createElement("label",{htmlFor:"username",className:"player-label"},e.props.label),r.a.createElement("div",{className:"row player-inputs"},r.a.createElement("input",{type:"text",id:"username",className:"input-".concat(a),placeholder:"github username",autoComplete:"off",value:e.state.username,onChange:e.handleChange}),r.a.createElement("button",{className:"btn ".concat("dark"===a?"light-btn":"dark-btn"),type:"submit",disabled:!e.state.username},"Submit")))}))}}]),a}(r.a.Component);function B(e){var t=e.username,a=e.onReset,n=e.label;return r.a.createElement(N,null,(function(e){var l=e.theme;return r.a.createElement("div",{className:"column player"},r.a.createElement("h3",{className:"player-label"},n),r.a.createElement("div",{className:"row bg-".concat(l)},r.a.createElement("div",{className:"player-info"},r.a.createElement("img",{className:"avatar-small",src:"https://github.com/".concat(t,".png?size=200"),alt:"Avatar for ".concat(t)}),r.a.createElement("a",{href:"https://github.com/".concat(t),className:"link"},t)),r.a.createElement("button",{className:"btn-clear flex-center",onClick:a},r.a.createElement(v.g,{color:"rgb(194, 57, 42)",size:26}))))}))}var F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={playerOne:null,playerTwo:null,battle:!1},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.handleReset=n.handleReset.bind(Object(m.a)(n)),n}return Object(s.a)(a,[{key:"handleSubmit",value:function(e,t){this.setState(Object(_.a)({},e,t))}},{key:"handleReset",value:function(e){this.setState(Object(_.a)({},e,null))}},{key:"render",value:function(){var e=this,t=this.state,a=t.playerOne,n=t.playerTwo;return!0===t.battle?r.a.createElement(A,{playerOne:a,playerTwo:n,onReset:function(){return e.setState({playerOne:null,playerTwo:null,battle:!1})}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(M,null),r.a.createElement("div",{className:"players-container"},r.a.createElement("h1",{className:"center-text header-lg"},"Players"),r.a.createElement("div",{className:"row space-around"},null===a?r.a.createElement(U,{label:"Player One",onSubmit:function(t){return e.handleSubmit("playerOne",t)}}):r.a.createElement(B,{username:a,label:"Player One",onReset:function(){return e.handleReset("playerOne")}}),null===n?r.a.createElement(U,{label:"Player Two",onSubmit:function(t){return e.handleSubmit("playerTwo",t)}}):r.a.createElement(B,{username:n,label:"Player Two",onReset:function(){return e.handleReset("playerTwo")}})),a&&n&&r.a.createElement("button",{className:"btn dark-btn btn-space",onClick:function(){return e.setState({battle:!0})}},"Battle")))}}]),a}(r.a.Component),I=a(14);function D(){return r.a.createElement(N,null,(function(e){var t=e.theme,a=e.toggleTheme;return r.a.createElement("nav",{className:"row space-between"},r.a.createElement("ul",{className:"row nav"},r.a.createElement("li",null,r.a.createElement(I.b,{activeStyle:{color:"rgb(187,46,31)"},to:"/",exact:!0,className:"nav-link"},"Popular")),r.a.createElement("li",null,r.a.createElement(I.b,{activeStyle:{color:"rgb(187,46,31)"},to:"/battle",className:"nav-link"},"Battle"))),r.a.createElement("button",{style:{fontSize:30},className:"btn-clear",onClick:a},"light"===t?"\ud83d\udd26":"\ud83d\udca1"))}))}var J=a(1),G=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={theme:"light",toggleTheme:function(){n.setState((function(e){return{theme:"light"===e.theme?"dark":"light"}}))}},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(I.a,null,r.a.createElement(S,{value:this.state},r.a.createElement("div",{className:this.state.theme},r.a.createElement("div",{className:"container"},r.a.createElement(D,null),r.a.createElement(J.a,{exact:!0,path:"/",component:T}),r.a.createElement(J.a,{path:"/battle",component:F})))))}}]),a}(r.a.Component);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.19bc4191.chunk.js.map